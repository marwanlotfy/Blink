<?php

return [
    'defaults' => [
        'user' => [
            'model' => \App\Models\User::class,
            'table' => 'users'
        ]
    ],
    'routes' => [
        /*
        |--------------------------------------------------------------------------
        | Middleware allows to prevent unexpected access to APIs 
        |--------------------------------------------------------------------------
         */
        'middleware' => [
            /*
            |--------------------------------------------------------------------------
            | Chat Middlewares 
            |--------------------------------------------------------------------------
            */
            'chat' => [
                /*
                |--------------------------------------------------------------------------
                | Middlewares for create chat
                |--------------------------------------------------------------------------
                */
                'create' => [
                    'auth:api'
                ],
                /*
                |--------------------------------------------------------------------------
                | Middlewares for list chats  
                |--------------------------------------------------------------------------
                */
                'list' => [
                    'auth:api'
                ]
            ],
            'message' => [
                /*
                |--------------------------------------------------------------------------
                | Middlewares for create chat message
                |--------------------------------------------------------------------------
                */
                'create' => [
                    'auth:api',
                    Blink\Http\Middleware\ChatParticipant::class,
                    Blink\Http\Middleware\UserNotBanned::class,
                ],
                /*
                |--------------------------------------------------------------------------
                | Middlewares for list chat messages   
                |--------------------------------------------------------------------------
                */
                'list' => [
                    'auth:api',
                    Blink\Http\Middleware\ChatParticipant::class,
                ],
                /*
                |--------------------------------------------------------------------------
                | Chat Message Information 
                |--------------------------------------------------------------------------
                */
                'info' => [
                    'update' => [
                        'auth:api'
                    ],
                    'list' => [
                        'auth:api',
                        Blink\Http\Middleware\ChatParticipant::class,
                    ],
                ],
            ]

        ]
    ],
    'storage' => storage_path('local'),
];